<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>KnihovnyCz\Validator\DatabaseCsrf | API</title>

            <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../fonts/doctum-font.css">
        <script src="../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../doctum.js"></script>
        <script async defer src="../../js/bootstrap.min.js"></script>
        <script async defer src="../../js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:KnihovnyCz_Validator_DatabaseCsrf" data-root-path="../../" data-search-index-url="../../doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../classes.html">Classes</a></li>
                    <li><a href="../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../traits.html">Traits</a></li>
                    <li><a href="../../doc-index.html">Index</a></li>
                    <li><a href="../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../KnihovnyCz.html">KnihovnyCz</a></li><li class="backslash">\</li><li><a href="../../KnihovnyCz/Validator.html">Validator</a></li><li class="backslash">\</li><li>DatabaseCsrf</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>DatabaseCsrf    
            </h1>
    </div>

    
    <p>        class
    <strong>DatabaseCsrf</strong>        implements        <abbr title="VuFind\Validator\CsrfInterface">CsrfInterface</abbr>
</p>

                <p>
                                                <span class="label label-default">VuFind</span>
                                    </p>
    
        
    
        

            <div class="description">
            <p><p>Extension of Laminas\Validator\Csrf with token counting/clearing functions added.</p></p>                    </div>
            
        
            <h2>Constants</h2>    <table class="table table-condensed">
                    <tr>
                <td>
                                                                                                                        NOT_SAME
                                    </td>
                <td class="last">
                    <p><em><p>Error message if validation fails</p></em></p>
                    <p></p>
                </td>
            </tr>
            </table>

    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_csrfToken">
                                        protected                                        <a href="../../KnihovnyCz/Db/Table/CsrfToken.html"><abbr title="KnihovnyCz\Db\Table\CsrfToken">CsrfToken</abbr></a>
                                                                                
                                    </td>
                <td>$csrfToken</td>
                <td class="last"><p>CSRF token table</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_sessionId">
                                        protected                                        string
                                                                                
                                    </td>
                <td>$sessionId</td>
                <td class="last"><p>Session id</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_messages">
                                        protected                                        array
                                                                                
                                    </td>
                <td>$messages</td>
                <td class="last"><p>Validation messages</p></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method___construct">__construct</a>(<a href="../../KnihovnyCz/Db/Table/CsrfToken.html"><abbr title="KnihovnyCz\Db\Table\CsrfToken">CsrfToken</abbr></a> $csrfToken, string $sessionId)
        
                                            <p><p>DatabaseCsrf constructor</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_getHash">getHash</a>(bool $regenerate = false)
        
                                            <p><p>Retrieve CSRF token</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_trimTokenList">trimTokenList</a>(int $limit)
        
                                            <p><p>Keep only the most recent N tokens. Not implemented here.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_isValid">isValid</a>(string $value)
        
                                            <p><p>Returns true if and only if token is valid.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getMessages">getMessages</a>()
        
                                            <p><p>Returns an array of messages that explain why the most recent isValid()
call returned false. The array keys are validation failure message
identifiers, and the array values are the corresponding human-readable
message strings.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at line 79</div>
        <code>                    
    <strong>__construct</strong>(<a href="../../KnihovnyCz/Db/Table/CsrfToken.html"><abbr title="KnihovnyCz\Db\Table\CsrfToken">CsrfToken</abbr></a> $csrfToken, string $sessionId)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>DatabaseCsrf constructor</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../KnihovnyCz/Db/Table/CsrfToken.html"><abbr title="KnihovnyCz\Db\Table\CsrfToken">CsrfToken</abbr></a></td>
                <td>$csrfToken</td>
                <td><p>CSRF token table</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$sessionId</td>
                <td><p>Session ID</p></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getHash">
        <div class="location">at line 95</div>
        <code>                    string
    <strong>getHash</strong>(bool $regenerate = false)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Retrieve CSRF token</p></p>                <p><p>If no CSRF token currently exists, or should be regenerated,
generates one.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>bool</td>
                <td>$regenerate</td>
                <td><p>regenerate hash, default false</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_trimTokenList">
        <div class="location">at line 117</div>
        <code>                    void
    <strong>trimTokenList</strong>(int $limit)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Keep only the most recent N tokens. Not implemented here.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>int</td>
                <td>$limit</td>
                <td><p>Number of tokens to keep.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_isValid">
        <div class="location">at line 132</div>
        <code>                    bool
    <strong>isValid</strong>(string $value)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Returns true if and only if token is valid.</p></p>                <p><p>If $value fails validation, then this method returns false, and
getMessages() will return an array of messages that explain why the
validation failed.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$value</td>
                <td><p>token value</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMessages">
        <div class="location">at line 155</div>
        <code>                    array
    <strong>getMessages</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Returns an array of messages that explain why the most recent isValid()
call returned false. The array keys are validation failure message
identifiers, and the array values are the corresponding human-readable
message strings.</p></p>                <p><p>If isValid() was never called or if the most recent isValid() call
returned true, then this method returns an empty array.</p></p>        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>

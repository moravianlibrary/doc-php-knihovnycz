<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>VuFind\Resolver\Driver\Jop | API</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../../fonts/doctum-font.css">
        <script src="../../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../../doctum.js"></script>
        <script async defer src="../../../js/bootstrap.min.js"></script>
        <script async defer src="../../../js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:VuFind_Resolver_Driver_Jop" data-root-path="../../../" data-search-index-url="../../../doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="../../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                    <li><a href="../../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../../VuFind.html">VuFind</a></li><li class="backslash">\</li><li><a href="../../../VuFind/Resolver.html">Resolver</a></li><li class="backslash">\</li><li><a href="../../../VuFind/Resolver/Driver.html">Driver</a></li><li class="backslash">\</li><li>Jop</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>Jop    
            </h1>
    </div>

    
    <p>        class
    <strong>Jop</strong>        extends <a href="../../../VuFind/Resolver/Driver/AbstractBase.html"><abbr title="VuFind\Resolver\Driver\AbstractBase">AbstractBase</abbr></a>
</p>

                <p>
                                                <span class="label label-default">VuFind</span>
                                    </p>
    
        
    
        

            <div class="description">
            <p><p>JOP Link Resolver Driver</p></p>                    </div>
            
        
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_baseUrl">
                                        protected                                        string
                                                                                
                                    </td>
                <td>$baseUrl</td>
                <td class="last"><p>Base URL for link resolver</p></td>
                <td><small>from&nbsp;<a href="../../../VuFind/Resolver/Driver/AbstractBase.html#property_baseUrl">
<abbr title="VuFind\Resolver\Driver\AbstractBase">AbstractBase</abbr></a></small></td>
            </tr>
                    <tr>
                <td class="type" id="property_xpathTitleSelector">
                                        protected                                        string
                                                                                
                                    </td>
                <td>$xpathTitleSelector</td>
                <td class="last"><p>As the JOP resolver provides also generic labels 'Article', 'Journal'
etc. in element AccessLevel this label can be used as title for
resolver results by setting this variable to 'AccessLevel'</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_httpClient">
                                        protected                                        <abbr title="Laminas\Http\Client">Client</abbr>
                                                                                
                                    </td>
                <td>$httpClient</td>
                <td class="last"><p>HTTP client</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_userIpReader">
                                        protected                                        <a href="../../../VuFind/Net/UserIpReader.html"><abbr title="VuFind\Net\UserIpReader">UserIpReader</abbr></a>
                                                                                
                                    </td>
                <td>$userIpReader</td>
                <td class="last"><p>User IP address reader</p></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method___construct">__construct</a>(string $baseUrl, <abbr title="Laminas\Http\Client">Client</abbr> $httpClient, <a href="../../../VuFind/Net/UserIpReader.html"><abbr title="VuFind\Net\UserIpReader">UserIpReader</abbr></a> $userIpReader)
        
                                            <p>Constructor</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_getResolverUrl">getResolverUrl</a>(string $openURL)
        
                                            <p><p>Get Resolver Url</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_supportsMoreOptionsLink">supportsMoreOptionsLink</a>()
        
                                            <p><p>Allows for resolver driver specific enabling/disabling of the more options
link which will link directly to the resolver URL. This should return false if
the resolver returns data in XML or any other human unfriendly response.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_fetchLinks">fetchLinks</a>(string $openURL)
        
                                            <p><p>Fetch Links</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_parseLinks">parseLinks</a>(string $xmlstr)
        
                                            <p><p>Parse Links</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_downgradeOpenUrl">downgradeOpenUrl</a>(array $parsed)
        
                                            <p><p>Downgrade an OpenURL from v1.0 to v0.1 for compatibility with JOP.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_getElectronicResults">getElectronicResults</a>(string $state, string $coverage, array $records, <a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a> $xpath)
        
                                            <p><p>Extract electronic results from the JOP response and inject them into the
$records array.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8">
                    <a href="#method_getPrintResults">getPrintResults</a>(string $state, string $coverage, array $records, <a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a> $xpath)
        
                                            <p><p>Extract print results from the JOP response and inject them into the
$records array.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at line 85</div>
        <code>                    
    <strong>__construct</strong>(string $baseUrl, <abbr title="Laminas\Http\Client">Client</abbr> $httpClient, <a href="../../../VuFind/Net/UserIpReader.html"><abbr title="VuFind\Net\UserIpReader">UserIpReader</abbr></a> $userIpReader)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p>Constructor</p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$baseUrl</td>
                <td><p>Base URL for link resolver</p></td>
            </tr>
                    <tr>
                <td><abbr title="Laminas\Http\Client">Client</abbr></td>
                <td>$httpClient</td>
                <td><p>HTTP client</p></td>
            </tr>
                    <tr>
                <td><a href="../../../VuFind/Net/UserIpReader.html"><abbr title="VuFind\Net\UserIpReader">UserIpReader</abbr></a></td>
                <td>$userIpReader</td>
                <td><p>User IP address reader</p></td>
            </tr>
            </table>

            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getResolverUrl">
        <div class="location">at line 160</div>
        <code>                    string
    <strong>getResolverUrl</strong>(string $openURL)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Get Resolver Url</p></p>                <p><p>Transform the OpenURL as needed to get a working link to the resolver.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$openURL</td>
                <td><p>openURL (url-encoded)</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>Returns resolver specific url</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_supportsMoreOptionsLink">
        <div class="location">at line 199</div>
        <code>                    bool
    <strong>supportsMoreOptionsLink</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Allows for resolver driver specific enabling/disabling of the more options
link which will link directly to the resolver URL. This should return false if
the resolver returns data in XML or any other human unfriendly response.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_fetchLinks">
        <div class="location">at line 104</div>
        <code>                    string
    <strong>fetchLinks</strong>(string $openURL)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Fetch Links</p></p>                <p><p>Fetches a set of links corresponding to an OpenURL</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$openURL</td>
                <td><p>openURL (url-encoded)</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>raw XML returned by resolver</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_parseLinks">
        <div class="location">at line 124</div>
        <code>                    array
    <strong>parseLinks</strong>(string $xmlstr)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Parse Links</p></p>                <p><p>Parses an XML file returned by a link resolver
and converts it to a standardised format for display</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$xmlstr</td>
                <td><p>Raw XML returned by resolver</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>Array of values</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_downgradeOpenUrl">
        <div class="location">at line 213</div>
        <code>            protected        string
    <strong>downgradeOpenUrl</strong>(array $parsed)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Downgrade an OpenURL from v1.0 to v0.1 for compatibility with JOP.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$parsed</td>
                <td><p>Array of parameters parsed from the OpenURL.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>JOP-compatible v0.1 OpenURL</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getElectronicResults">
        <div class="location">at line 265</div>
        <code>            protected        void
    <strong>getElectronicResults</strong>(string $state, string $coverage, array $records, <a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a> $xpath)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Extract electronic results from the JOP response and inject them into the
$records array.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$state</td>
                <td><p>The state attribute value to extract</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$coverage</td>
                <td><p>The coverage string to associate with the state</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$records</td>
                <td><p>The array of results to update</p></td>
            </tr>
                    <tr>
                <td><a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a></td>
                <td>$xpath</td>
                <td><p>The XPath object containing parsed XML</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getPrintResults">
        <div class="location">at line 369</div>
        <code>            protected        void
    <strong>getPrintResults</strong>(string $state, string $coverage, array $records, <a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a> $xpath)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Extract print results from the JOP response and inject them into the
$records array.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$state</td>
                <td><p>The state attribute value to extract</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$coverage</td>
                <td><p>The coverage string to associate with the state</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$records</td>
                <td><p>The array of results to update</p></td>
            </tr>
                    <tr>
                <td><a target="_blank" rel="noopener" href="https://www.php.net/DOMXpath">DOMXpath</a></td>
                <td>$xpath</td>
                <td><p>The XPath object containing parsed XML</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>

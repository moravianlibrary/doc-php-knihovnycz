<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>VuFind\RecordDriver\Feature\MarcReaderTrait | API</title>

            <link rel="stylesheet" type="text/css" href="../../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../../../fonts/doctum-font.css">
        <script src="../../../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../../../doctum.js"></script>
        <script async defer src="../../../js/bootstrap.min.js"></script>
        <script async defer src="../../../js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

    </head>

    <body id="class" data-name="class:VuFind_RecordDriver_Feature_MarcReaderTrait" data-root-path="../../../" data-search-index-url="../../../doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="../../../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../../index.html">API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../../classes.html">Classes</a></li>
                    <li><a href="../../../namespaces.html">Namespaces</a></li>
                    <li><a href="../../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../../traits.html">Traits</a></li>
                    <li><a href="../../../doc-index.html">Index</a></li>
                    <li><a href="../../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">trait</span></li>
                        <li><a href="../../../VuFind.html">VuFind</a></li><li class="backslash">\</li><li><a href="../../../VuFind/RecordDriver.html">RecordDriver</a></li><li class="backslash">\</li><li><a href="../../../VuFind/RecordDriver/Feature.html">Feature</a></li><li class="backslash">\</li><li>MarcReaderTrait</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>MarcReaderTrait    
            </h1>
    </div>

    
    <p>        trait
    <strong>MarcReaderTrait</strong>
</p>

                <p>
                                                <span class="label label-default">VuFind</span>
                                    </p>
    
        
    
        

            <div class="description">
            <p><p>Functions for reading MARC records.</p></p>            <p><p>Assumption: raw MARC data can be found in $this-&gt;fields['fullrecord'].</p>
<p>Assumption: VuFind config available as $this-&gt;mainConfig</p></p>        </div>
            
        
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property_marcReaderClass">
                                        protected                                        string
                                                                                
                                    </td>
                <td>$marcReaderClass</td>
                <td class="last"><p>MARC reader class to use.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property_lazyMarcReader">
                                        protected                                        
                                                                                
                                    </td>
                <td>$lazyMarcReader</td>
                <td class="last"><p>MARC reader. Access only via getMarcReader() as this is initialized lazily.</p></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_getRawMarcData">getRawMarcData</a>()
        
                                            <p><p>Retrieve the raw MARC data for this record; note that format may vary
depending on what was indexed (e.g. XML vs. binary MARC).</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="VuFind\Marc\MarcReader">MarcReader</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_getMarcReader">getMarcReader</a>()
        
                                            <p><p>Get access to the MarcReader object.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getFieldArray">getFieldArray</a>(string $field, array $subfields = null, bool $concat = true, string $separator = &#039; &#039;)
        
                                            <p><p>Return an array of all values extracted from the specified field/subfield
combination.  If multiple subfields are specified and $concat is true, they
will be concatenated together in the order listed -- each entry in the array
will correspond with a single MARC field.  If $concat is false, the return
array will contain separate entries for separate subfields.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_getFirstFieldValue">getFirstFieldValue</a>(string $field, array $subfields = null)
        
                                            <p><p>Get the first value matching the specified MARC field and subfields.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getPublicationInfo">getPublicationInfo</a>(string $subfield = &#039;a&#039;)
        
                                            <p><p>Get the item's publication information</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method_getSubfield">getSubfield</a>(array $field, string $subfield)
        
                                            <p><p>Return first subfield with the given code in the provided MARC field</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getSubfields">getSubfields</a>(array $field, string $subfield)
        
                                            <p><p>Return all subfields with the given code in the provided MARC field</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getSubfieldArray">getSubfieldArray</a>(array $currentField, array $subfields, bool $concat = true, string $separator = &#039; &#039;)
        
                                            <p><p>Return an array of non-empty subfield values found in the provided MARC
field.  If $concat is true, the array will contain either zero or one
entries (empty array if no subfields found, subfield values concatenated
together in specified order if found).  If concat is false, the array
will contain a separate entry for each subfield value found.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method_getRawMarcData">
        <div class="location">at line 64</div>
        <code>                    string
    <strong>getRawMarcData</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Retrieve the raw MARC data for this record; note that format may vary
depending on what was indexed (e.g. XML vs. binary MARC).</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getMarcReader">
        <div class="location">at line 85</div>
        <code>                    <abbr title="VuFind\Marc\MarcReader">MarcReader</abbr>
    <strong>getMarcReader</strong>()
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Get access to the MarcReader object.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="VuFind\Marc\MarcReader">MarcReader</abbr></td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getFieldArray">
        <div class="location">at line 110</div>
        <code>            protected        array
    <strong>getFieldArray</strong>(string $field, array $subfields = null, bool $concat = true, string $separator = &#039; &#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return an array of all values extracted from the specified field/subfield
combination.  If multiple subfields are specified and $concat is true, they
will be concatenated together in the order listed -- each entry in the array
will correspond with a single MARC field.  If $concat is false, the return
array will contain separate entries for separate subfields.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$field</td>
                <td><p>The MARC field number to read</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$subfields</td>
                <td><p>The MARC subfield codes to read</p></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$concat</td>
                <td><p>Should we concatenate subfields?</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$separator</td>
                <td><p>Separator string (used only when $concat === true)</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getFirstFieldValue">
        <div class="location">at line 136</div>
        <code>            protected        string
    <strong>getFirstFieldValue</strong>(string $field, array $subfields = null)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Get the first value matching the specified MARC field and subfields.</p></p>                <p><p>If multiple subfields are specified, they will be concatenated together.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$field</td>
                <td><p>The MARC field to read</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$subfields</td>
                <td><p>The MARC subfield codes to read</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getPublicationInfo">
        <div class="location">at line 149</div>
        <code>            protected        array
    <strong>getPublicationInfo</strong>(string $subfield = &#039;a&#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Get the item's publication information</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$subfield</td>
                <td><p>The subfield to retrieve ('a' = location, 'c' = date)</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getSubfield">
        <div class="location">at line 196</div>
        <code>            protected        string
    <strong>getSubfield</strong>(array $field, string $subfield)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return first subfield with the given code in the provided MARC field</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$field</td>
                <td><p>Result from MarcReader::getFields</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$subfield</td>
                <td><p>The MARC subfield code to get</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getSubfields">
        <div class="location">at line 209</div>
        <code>            protected        array
    <strong>getSubfields</strong>(array $field, string $subfield)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return all subfields with the given code in the provided MARC field</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$field</td>
                <td><p>Result from MarcReader::getFields</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$subfield</td>
                <td><p>The MARC subfield code to get</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getSubfieldArray">
        <div class="location">at line 228</div>
        <code>            protected        array
    <strong>getSubfieldArray</strong>(array $currentField, array $subfields, bool $concat = true, string $separator = &#039; &#039;)
        </code>
    </h3>
    <div class="details">    
            
    
            

        <div class="method-description">
                            <p><p>Return an array of non-empty subfield values found in the provided MARC
field.  If $concat is true, the array will contain either zero or one
entries (empty array if no subfields found, subfield values concatenated
together in specified order if found).  If concat is false, the array
will contain a separate entry for each subfield value found.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$currentField</td>
                <td><p>Result from MarcReader::getFields</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$subfields</td>
                <td><p>The MARC subfield codes to read</p></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$concat</td>
                <td><p>Should we concatenate subfields?</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$separator</td>
                <td><p>Separator string (used only when $concat === true)</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>
